{"version":3,"file":"vue2Dropzone.js","sources":["../src/services/urlsigner.js","../src/components/vue-dropzone.vue"],"sourcesContent":["export default {\n  getSignedURL(file, endpoint) {\n    let payload = {\n      filePath: file.name,\n      contentType: file.type\n    }\n\n    return new Promise((resolve, reject) => {\n      let request = new XMLHttpRequest();\n      request.open(\"POST\", endpoint);\n      request.onload = function () {\n        if (request.status == 200) {\n          resolve(JSON.parse(request.response));\n        } else {\n          reject((request.statusText));\n        }\n      };\n      request.onerror = function (err) {\n        console.error(\"Network Error : Could not send request to AWS (Maybe CORS errors)\");\n        reject(err)\n      };\n      request.send();\n    });\n  },\n  sendFile(file, endpoint) {\n    var fd = new FormData();\n    return this.getSignedURL(file, endpoint)\n      .then((response) => {\n        let signature = response.signature;\n        Object.keys(signature).forEach(function (key) {\n          if (key == 'key') {\n            fd.append('key', file.name);\n          } else if (key == 'Content-Type') {\n            fd.append(\"Content-Type\", file.type);\n          } else {\n            fd.append(key, signature[key]);\n          }\n        });\n        fd.append('file', file);\n        return new Promise((resolve, reject) => {\n          let request = new XMLHttpRequest();\n          request.open('POST', response.postEndpoint);\n          request.onload = function () {\n            if (request.status == 201) {\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n              var successMsg = s3Error.firstChild.children[0].innerHTML;\n              resolve({\n                'success': true,\n                'message': successMsg\n              })\n            } else {\n              var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n              var errMsg = s3Error.firstChild.children[0].innerHTML;\n              reject({\n                'success': false,\n                'message': errMsg + \". Request is marked as resolved when returns as status 201\"\n              })\n            }\n          };\n          request.onerror = function (err) {\n            var s3Error = (new window.DOMParser()).parseFromString(request.response, \"text/xml\");\n            var errMsg = s3Error.firstChild.children[1].innerHTML;\n            reject({\n              'success': false,\n              'message': errMsg\n            })\n          };\n          request.send(fd);\n        });\n      })\n      .catch((error) => {\n        return error;\n      });\n  }\n}\n","<template>\n  <div v-bind:class=\"{ 'vue-dropzone dropzone': includeStyling }\" :id=\"id\" ref=\"dropzoneElement\">\n  </div>\n</template>\n\n<script>\nimport awsEndpoint from '../services/urlsigner'\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true\n    },\n    options: {\n      type: Object,\n      required: true\n    },\n    includeStyling: {\n      type: Boolean,\n      default: true,\n      required: false\n    },\n    awss3: {\n      type: Object,\n      required: false,\n      default: null\n    },\n    destroyDropzone: {\n      type: Boolean,\n      default: true,\n      required: false\n    }\n  },\n  data() {\n    return {\n      isS3: false,\n      wasQueueAutoProcess: true,\n    }\n  },\n  computed: {\n    dropzoneSettings() {\n      let defaultValues = {\n        thumbnailWidth: 200,\n        thumbnailHeight: 200\n      }\n      Object.keys(this.options).forEach(function(key) {\n        defaultValues[key] = this.options[key]\n      }, this)\n      if (this.awss3 !== null) {\n        defaultValues['autoProcessQueue'] = false;\n        this.isS3 = true;\n        if (this.options.autoProcessQueue !== undefined)\n          this.wasQueueAutoProcess = this.options.autoProcessQueue;\n      }\n      return defaultValues\n    }\n  },\n  methods: {\n    manuallyAddFile: function(file, fileUrl) {\n      file.manuallyAdded = true;\n      this.dropzone.emit(\"addedfile\", file);\n      fileUrl && this.dropzone.emit(\"thumbnail\", file, fileUrl);\n\n      var thumbnails = file.previewElement.querySelectorAll('[data-dz-thumbnail]');\n      for (var i = 0; i < thumbnails.length; i++) {\n        thumbnails[i].style.width = this.dropzoneSettings.thumbnailWidth + 'px';\n        thumbnails[i].style.height = this.dropzoneSettings.thumbnailHeight + 'px';\n        thumbnails[i].style['object-fit'] = 'contain';\n      }\n      this.dropzone.emit(\"complete\", file)\n      if (this.dropzone.options.maxFiles) this.dropzone.options.maxFiles--\n      this.dropzone.files.push(file)\n      this.$emit('vdropzone-file-added-manually', file)\n    },\n    setOption: function(option, value) {\n      this.dropzone.options[option] = value\n    },\n    removeAllFiles: function(bool) {\n      this.dropzone.removeAllFiles(bool)\n    },\n    processQueue: function() {\n      let dropzoneEle = this.dropzone;\n      if (this.isS3 && !this.wasQueueAutoProcess) {\n        this.getQueuedFiles().forEach((file) => {\n          this.getSignedAndUploadToS3(file);\n        });\n      } else {\n        this.dropzone.processQueue();\n      }\n      this.dropzone.on(\"success\", function() {\n        dropzoneEle.options.autoProcessQueue = true\n      });\n      this.dropzone.on('queuecomplete', function() {\n        dropzoneEle.options.autoProcessQueue = false\n      })\n    },\n    init: function() {\n      return this.dropzone.init();\n    },\n    destroy: function() {\n      return this.dropzone.destroy();\n    },\n    updateTotalUploadProgress: function() {\n      return this.dropzone.updateTotalUploadProgress();\n    },\n    getFallbackForm: function() {\n      return this.dropzone.getFallbackForm();\n    },\n    getExistingFallback: function() {\n      return this.dropzone.getExistingFallback();\n    },\n    setupEventListeners: function() {\n      return this.dropzone.setupEventListeners();\n    },\n    removeEventListeners: function() {\n      return this.dropzone.removeEventListeners();\n    },\n    disable: function() {\n      return this.dropzone.disable();\n    },\n    enable: function() {\n      return this.dropzone.enable();\n    },\n    filesize: function(size) {\n      return this.dropzone.filesize(size);\n    },\n    accept: function(file, done) {\n      return this.dropzone.accept(file, done);\n    },\n    addFile: function(file) {\n      return this.dropzone.addFile(file);\n    },\n    removeFile: function(file) {\n      this.dropzone.removeFile(file)\n    },\n    getAcceptedFiles: function() {\n      return this.dropzone.getAcceptedFiles()\n    },\n    getRejectedFiles: function() {\n      return this.dropzone.getRejectedFiles()\n    },\n    getFilesWithStatus: function() {\n      return this.dropzone.getFilesWithStatus()\n    },\n    getQueuedFiles: function() {\n      return this.dropzone.getQueuedFiles()\n    },\n    getUploadingFiles: function() {\n      return this.dropzone.getUploadingFiles()\n    },\n    getAddedFiles: function() {\n      return this.dropzone.getAddedFiles()\n    },\n    getActiveFiles: function() {\n      return this.dropzone.getActiveFiles()\n    },\n    getSignedAndUploadToS3(file) {\n      awsEndpoint.sendFile(file, this.awss3.signingURL)\n        .then((response) => {\n          if (response.success) {\n            file.s3ObjectLocation = response.message\n            setTimeout(() => this.dropzone.processFile(file))\n            this.$emit('vdropzone-s3-upload-success', response.message);\n          } else {\n            if ('undefined' !== typeof message) {\n              this.$emit('vdropzone-s3-upload-error', response.message);\n            } else {\n              this.$emit('vdropzone-s3-upload-error', \"Network Error : Could not send request to AWS. (Maybe CORS error)\");\n            }\n          }\n        })\n        .catch((error) => {\n          alert(error);\n        });\n    },\n    setAWSSigningURL(location) {\n      if (this.isS3) {\n        this.awss3.signingURL = location;\n      }\n    }\n  },\n  mounted() {\n    if (this.$isServer && this.hasBeenMounted) {\n      return\n    }\n    this.hasBeenMounted = true\n    Dropzone.autoDiscover = false\n    this.dropzone = new Dropzone(this.$refs.dropzoneElement, this.dropzoneSettings)\n    let vm = this\n\n    this.dropzone.on('thumbnail', function(file, dataUrl) {\n      vm.$emit('vdropzone-thumbnail', file, dataUrl)\n    })\n\n    this.dropzone.on('addedfile', function(file) {\n      if (vm.duplicateCheck) {\n        if (this.files.length) {\n          this.files.forEach(function(dzfile) {\n            if (dzfile.name === file.name) {\n              this.removeFile(file)\n              vm.$emit('duplicate-file', file)\n            }\n          }, this)\n        }\n      }\n      vm.$emit('vdropzone-file-added', file)\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\n        vm.getSignedAndUploadToS3(file);\n      }\n    })\n\n    this.dropzone.on('addedfiles', function(files) {\n      vm.$emit('vdropzone-files-added', files)\n    })\n\n    this.dropzone.on('removedfile', function(file) {\n      vm.$emit('vdropzone-removed-file', file)\n      if (file.manuallyAdded) vm.dropzone.options.maxFiles++\n    })\n\n    this.dropzone.on('success', function(file, response) {\n      vm.$emit('vdropzone-success', file, response)\n      if (vm.isS3 && vm.wasQueueAutoProcess) {\n        vm.setOption('autoProcessQueue', false);\n      }\n    })\n\n    this.dropzone.on('successmultiple', function(file, response) {\n      vm.$emit('vdropzone-success-multiple', file, response)\n    })\n\n    this.dropzone.on('error', function(file, message, xhr) {\n      vm.$emit('vdropzone-error', file, message, xhr)\n    })\n\n    this.dropzone.on('errormultiple', function(files, message, xhr) {\n      vm.$emit('vdropzone-error-multiple', files, message, xhr)\n    })\n\n    this.dropzone.on('sending', function(file, xhr, formData) {\n      if (vm.isS3)\n        formData.append('s3ObjectLocation', file.s3ObjectLocation);\n      vm.$emit('vdropzone-sending', file, xhr, formData)\n    })\n\n    this.dropzone.on('sendingmultiple', function(file, xhr, formData) {\n      vm.$emit('vdropzone-sending-multiple', file, xhr, formData)\n    })\n\n    this.dropzone.on('complete', function(file) {\n      vm.$emit('vdropzone-complete', file)\n    })\n\n    this.dropzone.on('completemultiple', function(files) {\n      vm.$emit('vdropzone-complete-multiple', files)\n    })\n\n    this.dropzone.on('canceled', function(file) {\n      vm.$emit('vdropzone-canceled', file)\n    })\n\n    this.dropzone.on('canceledmultiple', function(files) {\n      vm.$emit('vdropzone-canceled-multiple', files)\n    })\n\n    this.dropzone.on('maxfilesreached', function(files) {\n      vm.$emit('vdropzone-max-files-reached', files)\n    })\n\n    this.dropzone.on('maxfilesexceeded', function(file) {\n      vm.$emit('vdropzone-max-files-exceeded', file)\n    })\n\n    this.dropzone.on('processing', function(file) {\n      vm.$emit('vdropzone-processing', file)\n    })\n\n    this.dropzone.on('processing', function(file) {\n      vm.$emit('vdropzone-processing', file)\n    })\n\n    this.dropzone.on('processingmultiple', function(files) {\n      vm.$emit('vdropzone-processing-multiple', files)\n    })\n\n    this.dropzone.on('uploadprogress', function(file, progress, bytesSent) {\n      vm.$emit('vdropzone-upload-progress', file, progress, bytesSent)\n    })\n\n    this.dropzone.on('totaluploadprogress', function(totaluploadprogress, totalBytes, totalBytesSent) {\n      vm.$emit('vdropzone-total-upload-progress', totaluploadprogress, totalBytes, totalBytesSent)\n    })\n\n    this.dropzone.on('reset', function() {\n      vm.$emit('vdropzone-reset')\n    })\n\n    this.dropzone.on('queuecomplete', function() {\n      vm.$emit('vdropzone-queuecomplete')\n    })\n\n    this.dropzone.on('drop', function(event) {\n      vm.$emit('vdropzone-drop', event)\n    })\n\n    this.dropzone.on('dragstart', function(event) {\n      vm.$emit('vdropzone-drag-start', event)\n    })\n\n    this.dropzone.on('dragend', function(event) {\n      vm.$emit('vdropzone-drag-end', event)\n    })\n\n    this.dropzone.on('dragenter', function(event) {\n      vm.$emit('vdropzone-drag-enter', event)\n    })\n\n    this.dropzone.on('dragover', function(event) {\n      vm.$emit('vdropzone-drag-over', event)\n    })\n\n    this.dropzone.on('dragleave', function(event) {\n      vm.$emit('vdropzone-drag-leave', event)\n    })\n\n    vm.$emit('vdropzone-mounted')\n  },\n  beforeDestroy() {\n    if (this.destroyDropzone) this.dropzone.destroy()\n  }\n}\n\n</script>\n\n<style lang=\"less\">\n  .vue-dropzone {\n    border: 2px solid #E5E5E5;\n    font-family: 'Arial', sans-serif;\n    letter-spacing: 0.2px;\n    color: #777;\n    transition: background-color .2s linear;\n\n    &:hover {\n      background-color: #F6F6F6;\n    }\n\n    i {\n      color: #CCC;\n    }\n\n    .dz-preview {\n\n      .dz-image {\n        border-radius: 0;\n        width: 100%;\n        height: 100%;\n        img:not([src]) {\n          width: 200px;\n          height: 200px;\n        }\n        &:hover {\n          img {\n            transform: none;\n            -webkit-filter: none;\n          }\n        }\n      }\n\n      .dz-details {\n        bottom: 0;\n        top: 0;\n        color: white;\n        background-color: rgba(33, 150, 243, 0.8);\n        transition: opacity .2s linear;\n        text-align: left;\n        .dz-filename {\n          overflow: hidden;\n        }\n        .dz-filename span,\n        .dz-size span {\n          background-color: transparent;\n        }\n        .dz-filename:not(:hover) span {\n          border: none;\n        }\n        .dz-filename:hover span {\n          background-color: transparent;\n          border: none;\n        }\n      }\n\n      .dz-progress .dz-upload {\n        background: #cccccc;\n      }\n\n      .dz-remove {\n        position: absolute;\n        z-index: 30;\n        color: white;\n        margin-left: 15px;\n        padding: 10px;\n        top: inherit;\n        bottom: 15px;\n        border: 2px white solid;\n        text-decoration: none;\n        text-transform: uppercase;\n        font-size: 0.8rem;\n        font-weight: 800;\n        letter-spacing: 1.1px;\n        opacity: 0;\n      }\n\n      &:hover {\n        .dz-remove {\n          opacity: 1;\n        }\n      }\n\n      .dz-success-mark,\n      .dz-error-mark {\n        margin-left: auto;\n        margin-top: auto;\n        width: 100%;\n        top: 35%;\n        left: 0;\n        svg {\n          margin-left: auto;\n          margin-right: auto;\n        }\n      }\n\n      .dz-error-message {\n        top: calc(15%);\n        margin-left: auto;\n        margin-right: auto;\n        left: 0;\n        width: 100%;\n        &:after {\n          bottom: -6px;\n          top: initial;\n          border-top: 6px solid #a92222;\n          border-bottom: none;\n        }\n      }\n    }\n  }\n</style>\n"],"names":["getSignedURL","file","endpoint","name","type","Promise","resolve","reject","let","request","XMLHttpRequest","open","onload","status","JSON","parse","response","onerror","err","console","error","send","sendFile","fd","FormData","this","then","signature","Object","keys","forEach","key","append","postEndpoint","successMsg","s3Error","window","DOMParser","parseFromString","firstChild","children","innerHTML","success","message","errMsg","catch","render","props","id","String","required","options","includeStyling","Boolean","default","awss3","destroyDropzone","data","isS3","wasQueueAutoProcess","computed","dropzoneSettings","defaultValues","thumbnailWidth","thumbnailHeight","undefined","autoProcessQueue","methods","manuallyAddFile","fileUrl","manuallyAdded","dropzone","emit","thumbnails","previewElement","querySelectorAll","i","length","style","width","height","maxFiles","files","push","$emit","setOption","option","value","removeAllFiles","bool","processQueue","dropzoneEle","getQueuedFiles","getSignedAndUploadToS3","on","init","destroy","updateTotalUploadProgress","getFallbackForm","getExistingFallback","setupEventListeners","removeEventListeners","disable","enable","filesize","size","accept","done","addFile","removeFile","getAcceptedFiles","getRejectedFiles","getFilesWithStatus","getUploadingFiles","getAddedFiles","getActiveFiles","awsEndpoint","signingURL","s3ObjectLocation","setTimeout","processFile","alert","setAWSSigningURL","location","mounted","$isServer","hasBeenMounted","Dropzone","autoDiscover","$refs","dropzoneElement","vm","dataUrl","duplicateCheck","dzfile","xhr","formData","progress","bytesSent","totaluploadprogress","totalBytes","totalBytesSent","event","beforeDestroy"],"mappings":"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"}